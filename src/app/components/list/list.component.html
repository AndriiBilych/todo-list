<div class="relative" #ListContainer>
  <div class="mx-1.5 bg-gray-100 rounded-t-xl group">
    <div #TitleRef class="flex justify-between px-5 py-2.5" [id]="list.id">
      @if (!isChangingName) {
        <div class="title ellipsis-box-1" [title]="list.title">{{list.title}}</div>
        <button (mousedown)="removeListAction.emit()"
                class="remove-list-button hidden border-none mb-auto"
        >&times;</button>
      } @else {
        <app-input-form
          (textSubmissionAction)="isChangingName = false; list.title = $event.text.length > 0 ? $event.text : list.title"
          [textToShow]="list.title"
        ></app-input-form>
      }
    </div>
  </div>

  <div class="list bg-gray-100 my-0 mx-1.5 overflow-y-auto" [id]="list.id">
    <ng-content></ng-content>
  </div>

  <div class="bg-gray-100 px-4 py-0 mx-1.5 my-0 rounded-b-xl" [id]="list.id">
    <div class="mb-2 py-2.5 px-1.5">
      <ng-container *ngIf="!isAddingTask; else taskInput">
        <button (click)="isAddingTask = !isAddingTask"
                class="border-none"
        >+ Add another task</button>
      </ng-container>
      <ng-template #taskInput>
        <app-input-form
          (textSubmissionAction)="pushToArray($event.text.length > 0 && $event.text !== '\n' ? $event.text : 'New Task');
          isAddingTask = $event.keep"
          [textToShow]="''"
        ></app-input-form>
      </ng-template>
    </div>
  </div>
</div>
